datacenter     = "{{ consul_datacenter }}"
data_dir       = "{{ consul_data_dir }}"
client_addr    = "0.0.0.0"
{% raw %}
bind_addr      = "{{ GetPrivateIP }}"
advertise_addr = "{{ GetPrivateIP }}"
{% endraw %}
retry_join     = {{ consul_retry_join }}
log_level      = "{{ consul_log_level }}"
{% if consul_gossip_key %}
encrypt        = "{{ consul_gossip_key }}"
{% endif %}

# Enable non-TLS grpc port for Consul Connect in Nomad
# TODO: Setup TLS grpc connection from Nomad to Consul
# https://github.com/hashicorp/nomad/issues/12111
ports {
  grpc = 8502
}

ui_config = {
  enabled = true
}
connect {
  enabled = true
}
